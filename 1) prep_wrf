Berikut adalah langkah-langkah yang dalam pre-processing data input WRF. 
Tulisan yang terlampir disini merupakan tulisan dari github Pak Wido Hanggoro yang saya coba tuliskan kembali.
( https://github.com/hanggoro-litbang/training-coawst/blob/main/running/)

Jika ada yang kurang jelas atau ada yang ingin ditanyakan atau menyampaikan kritik dan masukan
bisa langsung tulis di issues :)

## Happy Modeling ##

Preprocessing atau persiapan data input model WRF kali ini akan dilakukan di server/Linux.
sebelum itu, buatlah direktori/folder sebagai tempat untuk meletakkan file2 nantinya dengan susunan sebagai berikut:

main directory  /  1_data
    /  2_geogrid
    /  3_ungrib
    /  4_metgrid
    /  5_wrf

<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>

1) Pembuatan Domain Model

* buka web https://jiririchter.github.io/WRFDomainWizard/, pakai tombol scroll ditahan untuk geser peta
* pada toolbar sebelah kiri, pilih toolbar wps (kedua dari atas), pilih new
* tentukan area yang menjadi wilayah simulasi (drag langsung di peta) minimal nilai e_we & e_sn 100x100
* ubah nilai dx dan dy sesuai yang diinginkan (dx=dy, satuan dalam meter)
* setiap ada nilai yang diubah, jangan lupa klik update
* untuk menambah nesting domain, klik add nest (tombol + disebelah tulisan Grids)
* jika sudah selesai, save, dan akan keluar namelist.wps (akan digunakan di langkah selanjutnya)

2) Download data GFS

download data GFS menggunakan script download_gfs0.25.sh
pastikan script download_gfs0.25.sh sudah dicopy ke 
main directory  /  1_data

# buka file download_gfs0.25.sh
vi download_gfs0.25.sh

, sesuaikan bagian berikut:

# input waktu awal simulasi
yyyy1=2023
mm1=05
dd1=01
cc=00
lengthhour=1440 # hari simulasi * 24
step=3
##########

source=ems # gfilter khusus data forecast; nccf yang lain ada data analisisnya;

########## Domain Selection for grib filter #############
# usahakan area domain data GFS yang didownload lebih besar dari domain WRF
ll=104   #left
rl=116  #right
tl=1    #top
bl=-11  #bottom
###########

# save

# run download_gfs0.25.sh
./download_gfs0.25.sh

3) Run geogrid

# buka direktori 
main directory  /  2_geogrid
cd $HOME/maindirectory/2_geogrid

# buat file dengan nama namelist.wps dan buka; copy kan namelist.wps dari domainwizard yang telah dibuat sebelumnya

# buka file namelist.wps
vi namelist.wps

# copy isi file namelist.wps dari web domainwizard

sesuaikan bagian berikut:

1 &share
2  wrf_core = 'ARW'
3  max_dom  = 1                        # sesuai jumlah domain yang dibuat
4  start_date= '2023-05-01_00:00:00'   # waktu awal sumulasi
5  end_date = '2023-05-30_18:00:00'    # waktu akhir simulasi
6  interval_seconds= 10800             # interval waktu data input GFS
7  io_form_geogrid= 2                  # sesuai dengan jumlah domain
8  debug_level    = 0
9 /
10
11 &geogrid
12  parent_id= 1
13  parent_grid_ratio    = 1
14  i_parent_start = 1
15  j_parent_start = 1
16  e_we= 100
17  e_sn= 100
18  geog_data_res  = ''
19  dx = 9000
20  dy = 9000
21  map_proj = 'lambert'
22  ref_lat  = -5.871
23  ref_lon  = 110.435
24  truelat1 = -2.420
25  truelat2 = -2.420
26  stand_lon= 112.062
27  geog_data_path = '/home/wrf/geog'
28  opt_geogrid_tbl_path = '/home/wrf/RUN.TABLES'
29 /
30
31 &ungrib
32  out_format= 'WPS'
33  prefix   = 'UNGRIB'
34 /
35
36 &metgrid
37  fg_name  = 'UNGRIB'
38  io_form_metgrid= 2
39  opt_metgrid_tbl_path = '/home/wrf/RUN.TABLES'
40 /

